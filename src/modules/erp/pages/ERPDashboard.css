/* All your CSS from the file goes here... */
/* Base styles */
/* --- ERP TABLE STYLES --- */
.erp-table {
    width: 100%;
    min-width: max-content;
    border-collapse: separate;
    border-spacing: 0;
    background: linear-gradient(160deg, rgba(255, 255, 255, 0.96), rgba(232, 240, 255, 0.85));
    border-radius: 20px;
    border: 1px solid rgba(12, 37, 64, 0.08);
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.6),
        inset 0 -1px 0 rgba(12, 37, 64, 0.05),
        18px 18px 36px rgba(12, 37, 64, 0.12),
        -16px -16px 32px rgba(255, 255, 255, 0.92);
    overflow: hidden;
}

.erp-table__head,
.erp-table__cell {
    white-space: nowrap;
    padding: 0.9rem 1.25rem;
}

.erp-table__head {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 600;
    color: rgba(12, 37, 64, 0.55);
    border-bottom: 1px solid rgba(12, 37, 64, 0.08);
}

.erp-table thead tr:first-child .erp-table__head:first-child {
    border-top-left-radius: 20px;
}
.erp-table thead tr:first-child .erp-table__head:last-child {
    border-top-right-radius: 20px;
}

.erp-table__row {
    background: rgba(255, 255, 255, 0.9);
    transition: transform 0.18s ease, box-shadow 0.18s ease, background-color 0.18s ease;
}

.erp-table__row:hover {
    transform: translateY(-1px);
    box-shadow:
        12px 12px 26px rgba(12, 37, 64, 0.18),
        -10px -10px 20px rgba(255, 255, 255, 0.9);
    background: rgba(224, 234, 255, 0.82);
}

.erp-table__cell {
    font-size: 0.9rem;
    color: rgba(12, 37, 64, 0.8);
    border-bottom: 1px solid rgba(12, 37, 64, 0.05);
}

.erp-table tbody tr:last-child .erp-table__cell {
    border-bottom: none;
}

.erp-table__head--actions,
.erp-table__cell--actions {
    text-align: right;
}

.erp-table__cell--actions {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: 0.5rem;
}

body {
    font-family: 'Sora', sans-serif;
    color: #012547;
    background-color: #F2F6FF;
}

.erp-dashboard {
    background: linear-gradient(135deg, #f5f8ff 0%, #ffffff 40%, #edf2ff 100%);
    color: #0C2540;
}

.erp-sidebar {
    background: linear-gradient(155deg, rgba(255, 255, 255, 0.98), rgba(233, 240, 255, 0.92));
    border: 1px solid rgba(12, 37, 64, 0.08);
    box-shadow:
        28px 28px 48px rgba(12, 37, 64, 0.12),
        -16px -16px 36px rgba(255, 255, 255, 0.88);
    backdrop-filter: blur(18px);
}

.neumo-search {
    background: linear-gradient(140deg, rgba(255, 255, 255, 0.95), rgba(228, 238, 255, 0.76));
    border: 1px solid rgba(12, 37, 64, 0.08);
    box-shadow:
        20px 20px 36px rgba(12, 37, 64, 0.14),
        -16px -16px 32px rgba(255, 255, 255, 0.92);
}

.neumo-search__input::placeholder {
    color: rgba(12, 37, 64, 0.45);
}

.neumo-search__input {
    color: #0C2540;
}

.neumo-search .btn-primary {
    border-radius: 18px;
    padding: 0.65rem 1.35rem;
}

/* Sidebar Styles */
.icon-sidebar {
    background-color: #ffffff;
    border-right: 1px solid #e5e7eb;
}

.sidebar-light {
    background-color: #FFFFFF;
    color: #0C2540;
}

.sidebar-light .border-b,
.sidebar-light .border-t {
    border-color: #e5e7eb; /* Gray-200 */
}

.sidebar-light a {
    color: #1f2937; /* Gray-800 */
}

.erp-sidebar__back-link {
    display: inline-flex;
    align-items: center;
    gap: 0.45rem;
    padding: 0.55rem 0.9rem;
    border-radius: 999px;
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.01em;
    color: rgba(12, 37, 64, 0.75);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(228, 238, 255, 0.78));
    border: 1px solid rgba(12, 37, 64, 0.08);
    box-shadow:
        10px 12px 20px rgba(12, 37, 64, 0.08),
        -8px -8px 18px rgba(255, 255, 255, 0.92);
    transition: transform 0.18s ease, box-shadow 0.18s ease, color 0.18s ease;
}

.erp-sidebar__back-link svg {
    color: rgba(12, 37, 64, 0.55);
}

.erp-sidebar__back-link:hover {
    color: #0C2540;
    transform: translateX(-2px);
    box-shadow:
        14px 16px 26px rgba(12, 37, 64, 0.12),
        -10px -10px 20px rgba(255, 255, 255, 0.94);
}

.sidebar-light p {
    color: #6b7280; /* Gray-500 */
}

.sidebar-light #domain-tabs {
    overflow: visible;
}

.sidebar-light #domain-tabs li {
    position: relative;
}

.sidebar-light #domain-tabs button {
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.6rem;
    width: 100%;
    color: rgba(12, 37, 64, 0.65);
    font-weight: 600;
    transition: all 0.24s ease-in-out;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: 0.65rem 1rem;
    border-radius: 1rem;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(236, 242, 255, 0.75));
    border: 1px solid transparent;
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.6),
        8px 8px 18px rgba(12, 37, 64, 0.08),
        -6px -6px 16px rgba(255, 255, 255, 0.9);
}

.domain-tab-btn {
    position: relative;
    isolation: isolate;
}

.domain-tab__bullet {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 999px;
    background: linear-gradient(135deg, rgba(102, 140, 214, 0.65), rgba(46, 93, 179, 0.68));
    box-shadow: 0 0 12px rgba(58, 111, 196, 0.35);
    flex-shrink: 0;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.domain-tab__label {
    flex: 1;
    font-size: 0.9rem;
    letter-spacing: 0.01em;
}

.domain-menu-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.92), rgba(225, 236, 255, 0.72));
    border: 1px solid rgba(12, 37, 64, 0.1);
    color: rgba(12, 37, 64, 0.6);
    transition: all 0.18s ease-in-out;
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        6px 6px 12px rgba(12, 37, 64, 0.12),
        -4px -4px 10px rgba(255, 255, 255, 0.9);
}

.domain-menu-btn:hover {
    color: #0C2540;
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.85),
        8px 10px 16px rgba(12, 37, 64, 0.18),
        -6px -6px 12px rgba(255, 255, 255, 0.95);
}

.sidebar-light #domain-tabs button:hover {
    color: #0C2540;
    transform: translateX(4px);
    box-shadow:
        10px 12px 20px rgba(12, 37, 64, 0.12),
        -8px -8px 18px rgba(255, 255, 255, 0.92);
}

.sidebar-light #domain-tabs button.domain-active {
    margin-left: -0.55rem;
    padding-left: 1.45rem;
    width: calc(100% + 0.55rem);
    z-index: 0;
    border-top-left-radius: 1.7rem;
    border-bottom-left-radius: 1.7rem;
    border-top-right-radius: 1.2rem;
    border-bottom-right-radius: 1.2rem;
    border: 1px solid rgba(58, 114, 192, 0.38);
    background: linear-gradient(160deg, rgba(230, 237, 255, 0.96), rgba(212, 223, 245, 0.84));
    color: #08213F;
    transform: none;
    box-shadow:
        inset 6px 6px 14px rgba(9, 23, 46, 0.24),
        inset -6px -6px 14px rgba(255, 255, 255, 0.82),
        14px 16px 26px rgba(12, 37, 64, 0.12),
        -12px -12px 24px rgba(255, 255, 255, 0.96);
}

.sidebar-light #domain-tabs button.domain-active .domain-tab__bullet {
    transform: scale(1.25);
    background: linear-gradient(140deg, #1b4b89, #092340);
    box-shadow: 0 0 16px rgba(25, 92, 185, 0.45);
}

.sidebar-light #domain-tabs button.domain-active::before {
    content: '';
    position: absolute;
    inset: 0.2rem 0.4rem 0.2rem 1.05rem;
    border-radius: inherit;
    background: linear-gradient(150deg, rgba(239, 245, 255, 0.96), rgba(214, 225, 247, 0.82));
    box-shadow:
        inset 4px 4px 10px rgba(9, 23, 46, 0.18),
        inset -4px -4px 10px rgba(255, 255, 255, 0.76);
    z-index: -1;
}

.sidebar-light #domain-tabs button.domain-active::after {
    content: '';
    position: absolute;
    left: 0.45rem;
    top: 50%;
    width: 0.28rem;
    height: 58%;
    border-radius: 999px;
    background: linear-gradient(180deg, rgba(80, 150, 255, 0.55), rgba(37, 95, 190, 0.35));
    box-shadow: 0 0 18px rgba(60, 120, 210, 0.32);
    transform: translateY(-50%);
}

.sidebar-light #domain-tabs button.domain-active:hover {
    transform: none;
}

/* Button Styles */
.btn-primary,
.btn-primary-sm {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.35rem;
    color: #f7fbff;
    background: linear-gradient(140deg, #14345c 0%, #1c4c88 55%, #0e2748 100%);
    border: 1px solid rgba(11, 34, 64, 0.55);
    border-radius: 999px;
    font-size: 0.875rem;
    font-weight: 600;
    letter-spacing: 0.02em;
    cursor: pointer;
    transition: transform 0.18s ease, box-shadow 0.18s ease, filter 0.18s ease;
    box-shadow:
        12px 12px 28px rgba(13, 35, 63, 0.35),
        -10px -10px 24px rgba(255, 255, 255, 0.18),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.view-toggle {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.4rem;
    padding: 0.35rem;
    border-radius: 1.6rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(230, 238, 255, 0.82));
    border: 1px solid rgba(12, 37, 64, 0.08);
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.6),
        14px 18px 32px rgba(12, 37, 64, 0.12),
        -14px -16px 28px rgba(255, 255, 255, 0.9);
}

.view-toggle__button {
    border: none;
    background: transparent;
    color: rgba(12, 37, 64, 0.62);
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.01em;
    padding: 0.55rem 0.75rem;
    border-radius: 1.3rem;
    transition: all 0.18s ease-in-out;
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.25),
        inset 0 -1px 0 rgba(12, 37, 64, 0.05);
}

.view-toggle__button:hover {
    color: #0C2540;
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.4),
        inset 0 -1px 0 rgba(12, 37, 64, 0.07);
}

.view-toggle__button.is-active {
    color: #0C2540;
    background: linear-gradient(140deg, rgba(228, 236, 255, 0.96), rgba(210, 224, 252, 0.88));
    box-shadow:
        inset 6px 6px 14px rgba(9, 23, 46, 0.18),
        inset -6px -6px 14px rgba(255, 255, 255, 0.92),
        12px 14px 24px rgba(12, 37, 64, 0.12),
        -10px -12px 22px rgba(255, 255, 255, 0.95);
}

.btn-primary {
    padding: 0.75rem 1.8rem;
}

#customize-btn {
    width: 100%;
    justify-content: center;
}

.btn-primary-sm {
    padding: 0.5rem 1.4rem;
}

.btn-primary:hover,
.btn-primary-sm:hover {
    transform: translateY(-1px);
    box-shadow:
        16px 18px 32px rgba(12, 37, 64, 0.4),
        -12px -12px 26px rgba(255, 255, 255, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.28);
    filter: brightness(1.03);
}

.btn-primary:active,
.btn-primary-sm:active {
    transform: translateY(0);
    box-shadow:
        inset 4px 4px 12px rgba(7, 19, 36, 0.45),
        inset -2px -2px 6px rgba(255, 255, 255, 0.2);
}

.btn-primary-sm:disabled {
    opacity: 0.55;
    cursor: not-allowed;
    box-shadow: none;
}

.btn-dashed {
    width: 100%;
    background: linear-gradient(140deg, rgba(255, 255, 255, 0.94), rgba(227, 236, 255, 0.78));
    color: #0C2540;
    font-weight: 600;
    padding: 0.85rem;
    border-radius: 1rem;
    transition: all 0.2s ease-in-out;
    border: 1px dashed rgba(64, 104, 160, 0.35);
    box-shadow:
        18px 18px 30px rgba(12, 37, 64, 0.08),
        -12px -12px 28px rgba(255, 255, 255, 0.85);
    cursor: pointer;
}
.btn-dashed:hover {
    background: linear-gradient(140deg, rgba(255, 255, 255, 0.98), rgba(214, 228, 255, 0.88));
    border-color: rgba(64, 104, 160, 0.55);
    transform: translateY(-1px);
    box-shadow:
        22px 22px 36px rgba(12, 37, 64, 0.12),
        -16px -16px 32px rgba(255, 255, 255, 0.9);
}

.text-danger {
    color: #dc2626 !important;
}
.text-danger:hover {
    background-color: #fee2e2;
    color: #b91c1c !important;
}

.erp-link-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.35rem 0.8rem;
    border-radius: 999px;
    border: 1px solid rgba(51, 96, 160, 0.28);
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.94), rgba(228, 237, 255, 0.72));
    color: #275ac9;
    font-weight: 600;
    font-size: 0.82rem;
    letter-spacing: 0.01em;
    transition: transform 0.18s ease, box-shadow 0.18s ease, color 0.18s ease;
    box-shadow:
        10px 10px 18px rgba(12, 37, 64, 0.16),
        -8px -8px 16px rgba(255, 255, 255, 0.88);
}

.erp-link-btn:hover {
    color: #0C2540;
    transform: translateY(-1px);
    box-shadow:
        12px 12px 22px rgba(12, 37, 64, 0.2),
        -10px -10px 18px rgba(255, 255, 255, 0.9);
}

.erp-link-btn--danger {
    color: #d24646;
    border-color: rgba(214, 70, 70, 0.35);
    background: linear-gradient(145deg, rgba(255, 242, 242, 0.95), rgba(255, 255, 255, 0.78));
    box-shadow:
        10px 10px 18px rgba(212, 70, 70, 0.15),
        -8px -8px 16px rgba(255, 255, 255, 0.9);
}

.erp-link-btn--danger:hover {
    color: #a52020;
    box-shadow:
        12px 12px 22px rgba(212, 70, 70, 0.2),
        -10px -10px 18px rgba(255, 255, 255, 0.92);
}


/* AI Report Container (rendered markdown) */
#ai-report-container { 
    background: linear-gradient(155deg, rgba(255, 255, 255, 0.97), rgba(232, 240, 255, 0.88)); 
    padding: 1.75rem; 
    border-radius: 24px; 
    border: 1px solid rgba(12, 37, 64, 0.08); 
    position: relative; 
    box-shadow:
        24px 24px 46px rgba(12, 37, 64, 0.1),
        -18px -18px 34px rgba(255, 255, 255, 0.9);
}
#ai-report-container h1, #ai-report-container h2 { font-weight: 600; margin-top: 1rem; margin-bottom: 0.5rem; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.5rem;}
#ai-report-container h1 { font-size: 1.5rem; }
#ai-report-container h2 { font-size: 1.25rem; }
#ai-report-container p { margin-bottom: 1rem; line-height: 1.6; }
#ai-report-container ul, #ai-report-container ol { list-style-position: inside; padding-left: 1.5rem; margin-bottom: 1rem; }
#ai-report-container code { background-color: #f3f4f6; padding: 0.2rem 0.4rem; border-radius: 0.25rem; font-family: monospace; }
#ai-report-container pre { background-color: #f3f4f6; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
#ai-report-container table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
#ai-report-container th, #ai-report-container td { border: 1px solid #e5e7eb; padding: 0.5rem 1rem; text-align: left; }
#ai-report-container th { background-color: #f9fafb; }

#panel-title {
    font-weight: 700;
    color: #0A2344;
    text-shadow: 0 12px 28px rgba(12, 37, 64, 0.15);
}

#main-modal > div,
#confirmation-modal > div {
    background: linear-gradient(160deg, rgba(255, 255, 255, 0.98), rgba(236, 242, 255, 0.94));
    border: 1px solid rgba(12, 37, 64, 0.12);
    box-shadow:
        0 28px 48px rgba(8, 20, 45, 0.22),
        0 12px 24px rgba(8, 20, 45, 0.14),
        inset 0 1px 0 rgba(255, 255, 255, 0.32);
    backdrop-filter: blur(6px);
}

#main-modal #modal-body,
#confirmation-modal #confirmation-modal-message {
    color: rgba(12, 37, 64, 0.72);
}


/* --- UPDATED LOADER STYLES --- */
.loader {
  position: relative;
  width: 90px;
  height: 90px;
}

.item1, .item2, .item3 {
  position: absolute;
  background-color: transparent;
  left: calc(50% - (var(--size) / 2));
  top: calc(50% - (var(--size) / 2));
  height: var(--size);
  width: var(--size);
  border-radius: 50%;
}

.loader .item1 {
  --size: 90px;
  animation: size1_1 2.5s infinite alternate;
  z-index: 1;
}

.loader .item2 {
  --size: 60px;
  animation: size1_2 2.5s infinite alternate;
  z-index: 2;
}

.loader .item3 {
  --size: 30px;
  animation: size1_3 2.5s infinite alternate;
  z-index: 3;
}

@keyframes size1_1 {
  0%, 10% { transform: scale(0); }
  100% { transform: scale(1); box-shadow: 8px 8px 14px #c5c5c5, -8px -8px 14px #ffffff; }
}

@keyframes size1_2 {
  0%, 40% { transform: scale(0); }
  100% { transform: scale(1); box-shadow: 8px 8px 14px #c5c5c5, -8px -8px 14px #ffffff; }
}

@keyframes size1_3 {
  0%, 70% { transform: scale(0); }
  100% { transform: scale(1); box-shadow: 8px 8px 14px #c5c5c5, -8px -8px 14px #ffffff; }
}
/* --- END UPDATED LOADER STYLES --- */


/* --- AI Assistant Chat Styles --- */
.chat-header {
    background-color: #0C2540;
    color: white;
    padding: 1rem;
    border-top-left-radius: 0.75rem;
    border-top-right-radius: 0.75rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
#chat-close-btn {
    background: none;
    border: none;
    color: white;
    font-size: 1.5rem;
    line-height: 1;
    cursor: pointer;
}
#chat-messages {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.chat-message {
    padding: 0.75rem 1rem;
    border-radius: 0.75rem;
    max-width: 80%;
    line-height: 1.5;
    font-size: 0.875rem;
}
.chat-message.user {
    background-color: #eef2ff;
    color: #1f2937;
    align-self: flex-end;
    border-bottom-right-radius: 0.25rem;
}
.chat-message.assistant {
    background-color: #0C2540;
    color: white;
    align-self: flex-start;
    border-bottom-left-radius: 0.25rem;
}

#chat-send-btn svg {
    transform: rotate(90deg);
}

#chat-window {
    background: linear-gradient(160deg, rgba(255, 255, 255, 0.98), rgba(233, 240, 255, 0.88));
    border: 1px solid rgba(12, 37, 64, 0.08);
    box-shadow:
        28px 28px 50px rgba(12, 37, 64, 0.18),
        -20px -20px 40px rgba(255, 255, 255, 0.92);
    backdrop-filter: blur(10px);
}

#chat-messages {
    color: rgba(12, 37, 64, 0.8);
}

#modal-body .ai-guide-list {
    list-style: none;
    padding: 0;
}
#modal-body .ai-guide-item {
    padding: 0.75rem;
    border-bottom: 1px solid #e5e7eb;
}
#modal-body .ai-guide-item:last-child {
    border-bottom: none;
}
#modal-body .ai-guide-item strong {
    color: #0C2540;
    display: block;
    margin-bottom: 0.25rem;
}

#main-modal input,
#main-modal select,
#main-modal textarea {
    width: 100%;
    padding: 0.55rem 0.85rem;
    border: 1px solid rgba(12, 37, 64, 0.08);
    border-radius: 0.85rem;
    font-size: 0.9rem;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.97), rgba(234, 240, 255, 0.78));
    box-shadow:
        inset 4px 4px 10px rgba(12, 37, 64, 0.08),
        inset -4px -4px 10px rgba(255, 255, 255, 0.76);
    color: #0C2540;
    transition: box-shadow 0.18s ease, border-color 0.18s ease;
}

#main-modal input:focus,
#main-modal select:focus,
#main-modal textarea:focus {
    outline: none;
    border-color: rgba(76, 128, 204, 0.45);
    box-shadow:
        inset 4px 4px 10px rgba(12, 37, 64, 0.08),
        inset -4px -4px 10px rgba(255, 255, 255, 0.76),
        0 0 0 4px rgba(76, 128, 204, 0.12);
}

.dropdown-content {
    display: none;
    position: absolute;
    background: linear-gradient(160deg, rgba(255, 255, 255, 0.98), rgba(230, 238, 255, 0.92));
    min-width: 150px;
    box-shadow:
        18px 18px 32px rgba(12, 37, 64, 0.18),
        -14px -14px 36px rgba(255, 255, 255, 0.9);
    z-index: 20;
    border-radius: 16px;
    border: 1px solid rgba(12, 37, 64, 0.12);
    padding: 0.35rem;
    backdrop-filter: blur(12px);
}
.dropdown-content button,
.dropdown-content .dropdown-item {
    color: rgba(12, 37, 64, 0.75);
    padding: 0.5rem 0.8rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    width: 100%;
    text-align: left;
    font-size: 0.85rem;
    line-height: 1.3rem;
    border-radius: 0.75rem;
    background: transparent;
    border: none;
    cursor: pointer;
    transition: background-color 0.18s ease, color 0.18s ease, transform 0.18s ease;
}
.dropdown-content button:hover,
.dropdown-content .dropdown-item:not(.text-danger):hover {
    background: rgba(228, 236, 254, 0.7);
    color: #0C2540;
    transform: translateX(2px);
}
#fields-wrapper {
    border: 1px solid rgba(12, 37, 64, 0.08);
    border-radius: 1.25rem;
    padding: 1rem;
    background: linear-gradient(150deg, rgba(255, 255, 255, 0.96), rgba(233, 240, 255, 0.85));
    box-shadow:
        inset 6px 6px 14px rgba(12, 37, 64, 0.07),
        inset -6px -6px 14px rgba(255, 255, 255, 0.7);
}
.field-row-header {
    display: grid;
    gap: 0.75rem;
    padding: 0 0.25rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: rgba(12, 37, 64, 0.55);
    border-bottom: 1px solid rgba(12, 37, 64, 0.08);
}
.field-row {
    display: grid;
    gap: 0.75rem;
    align-items: center;
    padding-top: 0.75rem;
}
/* Grid for Add Entity (4 columns) */
.add-entity-header {
    grid-template-columns: 2fr 1fr 110px 40px;
}
.field-row:not(.edit-mode) {
    grid-template-columns: 2fr 1fr 110px 40px;
}

/* Grid for Edit Entity (5 columns) */
.edit-entity-header {
    grid-template-columns: 2fr 2fr 1fr 110px 40px;
}
.field-row.edit-mode {
    grid-template-columns: 2fr 2fr 1fr 110px 40px;
}
.form-input {
    width: 100%;
    padding: 0.55rem 0.85rem;
    border: 1px solid rgba(12, 37, 64, 0.08);
    border-radius: 0.85rem;
    font-size: 0.9rem;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(234, 240, 255, 0.78));
    box-shadow:
        inset 4px 4px 10px rgba(12, 37, 64, 0.08),
        inset -4px -4px 10px rgba(255, 255, 255, 0.75);
    color: #0C2540;
    transition: box-shadow 0.18s ease, border-color 0.18s ease;
}

.form-input:focus {
    outline: none;
    border-color: rgba(76, 128, 204, 0.5);
    box-shadow:
        inset 4px 4px 10px rgba(12, 37, 64, 0.08),
        inset -4px -4px 10px rgba(255, 255, 255, 0.78),
        0 0 0 4px rgba(76, 128, 204, 0.15);
}
.field-row .required-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        color: #374151;
        padding-left: 0.5rem;
    }
.field-row .remove-btn {
        background: none; border: none; color: #9ca3af; cursor: pointer;
        padding: 0.25rem; border-radius: 9999px;
        display: flex; align-items: center; justify-content: center;
        transition: all 0.2s;
    }
.field-row .remove-btn:hover { color: #dc2626; background-color: #fee2e2; }
    .confirm-modal-content {
        transition: all 0.3s ease;
    }
.confirm-modal-backdrop.hidden .confirm-modal-content {
        opacity: 0;
        transform: scale(0.95);
    }

.erp-table { table-layout: auto; width: 100%; }
.erp-table th, .erp-table td { white-space: nowrap; }

/* --- Responsive Styles for Mobile --- */
@media (max-width: 640px) {
    /* Hide the grid header on small screens. */
    .field-row-header {
        display: none;
    }

    /* ** THE KEY FIX IS HERE **
    We use the exact same, more specific selectors to override the desktop grid 
    layout and force a single-column stack on mobile.
    */
    .field-row:not(.edit-mode),
    .field-row.edit-mode {
        grid-template-columns: 1fr; /* Stack all items vertically */
    }

    /* General styling for all field rows on mobile */
    .field-row {
        position: relative;
        padding-right: 2.5rem; /* 40px */
    }

    /* Target the button's wrapper div and position it at the top right */
    .field-row > div:last-child {
        position: absolute;
        top: 0.75rem; /* Adjust as needed for vertical alignment */
        right: 0;
    }

    
}


/* =========================================================
   ERP Chat & AI Report: Ripple Loader
   (Scoped to chat messages and the AI report container)
   ========================================================= */
#chat-messages .loader,
#ai-report-container .loader {
  position: relative;
  width: 64px;
  height: 64px;
}

#chat-messages .loader div,
#ai-report-container .loader div {
  position: absolute;
  border: 4px solid #454ade;
  border-radius: 50%;
  animation: loader8435 1s ease-out infinite;
}

#chat-messages .loader div:nth-child(2),
#ai-report-container .loader div:nth-child(2) {
  animation-delay: -0.5s;
}

@keyframes loader8435 {
  0% {
    top: 32px;
    left: 32px;
    width: 0;
    height: 0;
    opacity: 1;
  }
  100% {
    top: 0;
    left: 0;
    width: 64px;
    height: 64px;
    opacity: 0;
  }
}
.erp-entity-card {
    padding: 1.75rem;
    border-radius: 24px;
    background: linear-gradient(155deg, rgba(255, 255, 255, 0.97), rgba(229, 238, 255, 0.82));
    border: 1px solid rgba(12, 37, 64, 0.08);
    box-shadow:
        26px 26px 48px rgba(12, 37, 64, 0.1),
        -18px -18px 34px rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
}

.erp-entity-card.is-focused {
    border-color: rgba(99, 102, 241, 0.45);
    box-shadow:
        0 0 0 3px rgba(99, 102, 241, 0.12),
        28px 32px 52px rgba(12, 37, 64, 0.18),
        -18px -18px 36px rgba(255, 255, 255, 0.92);
    transition: box-shadow 0.3s ease, border-color 0.3s ease;
}

.erp-entity-card__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 1.25rem;
}

.erp-entity-card__title {
    font-size: 1.25rem;
    font-weight: 600;
    letter-spacing: -0.01em;
    color: #0C2540;
}

.erp-entity-card__actions {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    position: relative;
}

.entity-menu-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.45rem;
    border-radius: 999px;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.92), rgba(228, 236, 254, 0.7));
    border: 1px solid rgba(12, 37, 64, 0.12);
    box-shadow:
        12px 12px 24px rgba(12, 37, 64, 0.12),
        -10px -10px 20px rgba(255, 255, 255, 0.85);
    color: rgba(12, 37, 64, 0.55);
    transition: all 0.2s ease;
}

.entity-menu-btn:hover {
    color: #0C2540;
    transform: translateY(-1px);
    box-shadow:
        16px 16px 30px rgba(12, 37, 64, 0.14),
        -12px -12px 24px rgba(255, 255, 255, 0.9);
}

.erp-entity-card__body {
    overflow-x: auto;
}

.erp-empty {
    text-align: center;
    padding: 2.5rem;
    border-radius: 20px;
    background: linear-gradient(145deg, rgba(248, 250, 255, 0.9), rgba(233, 238, 255, 0.82));
    border: 1px dashed rgba(120, 146, 200, 0.4);
    color: rgba(12, 37, 64, 0.6);
    box-shadow:
        inset 6px 6px 16px rgba(12, 37, 64, 0.06),
        inset -6px -6px 16px rgba(255, 255, 255, 0.75);
}
